<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dollywood News - Your Source for Theme Park Updates</title>
    <link rel="icon" type="image/png" href="https://i.postimg.cc/J4tYRYdf/Chat-GPT-Image-Jun-17-2025-09-52-07-AM.png">
    <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/J4tYRYdf/Chat-GPT-Image-Jun-17-2025-09-52-07-AM.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #fff;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #000000 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(212, 175, 55, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 3px solid #d4af37;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 2.5rem;
            font-weight: bold;
            color: #d4af37;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .logo img {
            height: 60px;
            width: auto;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
        }
        
        .auth-section {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        main {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            margin: 2rem auto;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(212, 175, 55, 0.2);
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .hero {
            background: linear-gradient(135deg, #8b4513 0%, #d4af37 100%);
            color: white;
            text-align: center;
            padding: 3rem 2rem;
            position: relative;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://i.postimg.cc/J4tYRYdf/Chat-GPT-Image-Jun-17-2025-09-52-07-AM.png') no-repeat center right;
            background-size: 150px;
            opacity: 0.1;
            z-index: 0;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .hero p {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 2rem;
        }
        
        .article-grid {
            display: grid;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .article-card {
            background: rgba(0, 0, 0, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2);
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid rgba(212, 175, 55, 0.3);
        }
        
        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border-color: #d4af37;
        }
        
        .article-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(139, 69, 19, 0.2) 100%);
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .article-title {
            font-size: 1.5rem;
            color: #d4af37;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .article-meta {
            color: #ccc;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .article-content {
            padding: 1.5rem;
        }
        
        .article-excerpt {
            color: #ddd;
            line-height: 1.7;
            margin-bottom: 1rem;
        }
        
        .read-more {
            color: #d4af37;
            text-decoration: none;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .read-more:hover {
            color: #8b4513;
            transform: translateX(5px);
        }
        
        .full-article {
            display: none;
            background: rgba(0, 0, 0, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2);
            overflow: hidden;
            margin-bottom: 2rem;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .full-article.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .back-btn {
            margin-bottom: 1rem;
        }
        
        .article-body {
            padding: 2rem;
            font-size: 1.1rem;
            line-height: 1.8;
        }
        
        .article-body h3 {
            color: #d4af37;
            margin: 2rem 0 1rem 0;
            font-size: 1.3rem;
        }
        
        .article-body p {
            margin-bottom: 1.5rem;
        }
        
        .comments-section {
            border-top: 2px solid rgba(212, 175, 55, 0.3);
            padding: 2rem;
            background: rgba(0, 0, 0, 0.7);
        }
        
        .comments-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .comment-form {
            background: rgba(0, 0, 0, 0.8);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.2);
            margin-bottom: 2rem;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .comment-form textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 8px;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
        }
        
        .comment-form textarea:focus {
            outline: none;
            border-color: #d4af37;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }
        
        .comments-list {
            space-y: 1rem;
        }
        
        .comment {
            background: rgba(0, 0, 0, 0.8);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(212, 175, 55, 0.1);
            margin-bottom: 1rem;
            border-left: 4px solid #d4af37;
        }
        
        .comment-author {
            font-weight: bold;
            color: #d4af37;
            margin-bottom: 0.5rem;
        }
        
        .comment-date {
            color: #aaa;
            font-size: 0.85rem;
            margin-bottom: 1rem;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            animation: modalSlideIn 0.3s ease;
            position: relative;
        }
        
        @keyframes modalSlideIn {
            from { transform: scale(0.7) translateY(-50px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }
        
        .modal h2 {
            color: #d4af37;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
            font-weight: bold;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #d4af37;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }
        
        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .user-info {
            color: #d4af37;
            font-weight: bold;
        }
        
        .hidden {
            display: none !important;
        }
        
        .login-required {
            text-align: center;
            padding: 2rem;
            color: #ccc;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            margin: 1rem 0;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .auth-section {
                flex-wrap: wrap;
            }
            
            .container {
                padding: 0 10px;
            }
            
            .logo {
                font-size: 1.8rem;
            }
            
            .logo img {
                height: 45px;
            }
        }
        
        .author-badge {
            background: linear-gradient(45deg, #8b4513, #d4af37);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="https://i.postimg.cc/J4tYRYdf/Chat-GPT-Image-Jun-17-2025-09-52-07-AM.png" alt="Dollywood News Logo">
                    Dollywood News
                </div>
                <div class="auth-section">
                    <span id="userInfo" class="user-info hidden"></span>
                    <button id="adminBtn" class="btn btn-primary hidden">+ New Article</button>
                    <button id="loginBtn" class="btn btn-primary">Login</button>
                    <button id="signupBtn" class="btn btn-secondary">Sign Up</button>
                    <button id="logoutBtn" class="btn btn-secondary hidden">Logout</button>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <div class="hero-content">
                <h1>Welcome to Dollywood News</h1>
                <p>Your premier source for all the latest updates, attractions, and magical moments from Dolly Parton's beloved theme park</p>
            </div>
        </section>

        <div class="content">
            <div id="articlesList" class="article-grid">
                <!-- Articles will be populated by JavaScript -->
            </div>

            <div id="fullArticleView" class="full-article">
                <button id="backToList" class="btn btn-secondary back-btn">← Back to Articles</button>
                <div id="fullArticleContent"></div>
            </div>
        </div>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('loginModal')">&times;</button>
            <h2>Login to Dollywood News</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password:</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('signupModal')">&times;</button>
            <h2>Join Dollywood News</h2>
            <form id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name:</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email:</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password:</label>
                    <input type="password" id="signupPassword" required>
                </div>
                <button type="submit" class="btn btn-secondary" style="width: 100%;">Sign Up</button>
            </form>
        </div>
    </div>

    <!-- Admin Article Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <button class="close-btn" onclick="closeModal('adminModal')">&times;</button>
            <h2>Create New Article</h2>
            <form id="adminForm">
                <div class="form-group">
                    <label for="articleTitle">Article Title:</label>
                    <input type="text" id="articleTitle" required style="font-size: 1.1rem; padding: 1rem;">
                </div>
                <div class="form-group">
                    <label for="articleAuthor">Author/Publication:</label>
                    <input type="text" id="articleAuthor" required placeholder="e.g., Dollywood Official News">
                </div>
                <div class="form-group">
                    <label for="articleExcerpt">Article Excerpt (Brief Summary):</label>
                    <textarea id="articleExcerpt" required style="min-height: 80px;" placeholder="Write a compelling summary of the article..."></textarea>
                </div>
                <div class="form-group">
                    <label for="articleContent">Full Article Content (HTML allowed):</label>
                    <textarea id="articleContent" required style="min-height: 300px;" placeholder="Use &lt;h3&gt; for headers and &lt;p&gt; for paragraphs..."></textarea>
                </div>
                <div style="display: flex; gap: 1rem;">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">Publish Article</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('adminModal')" style="flex: 1;">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample articles data with different authors
        const articles = [
            {
                id: 1,
                title: "Dollywood Announces Revolutionary New Virtual Reality Coaster Experience for 2025",
                author: "Tennessee Theme Park Tribune",
                date: "June 15, 2025",
                excerpt: "Breaking news from Dollywood as park officials unveil plans for an unprecedented virtual reality experience that will transform their classic coaster into an immersive journey through Appalachian folklore and music history.",
                content: `
                    <h3>A New Era of Theme Park Innovation</h3>
                    <p>In an exciting development that's sending ripples through the theme park industry, Dollywood has announced the launch of their most ambitious project yet: a cutting-edge virtual reality overlay for their beloved Wild Eagle coaster. This revolutionary experience, set to debut in spring 2025, promises to transport riders through a magical journey celebrating the rich cultural heritage of the Smoky Mountains.</p>
                    
                    <h3>The Technology Behind the Magic</h3>
                    <p>The new VR experience utilizes state-of-the-art headsets synchronized with the coaster's movements, creating an unprecedented level of immersion. Riders will soar through virtual landscapes featuring Appalachian music legends, mystical mountain creatures, and breathtaking digital recreations of the region's natural beauty. The technology has been in development for over two years in partnership with leading VR specialists.</p>
                    
                    <h3>Celebrating Appalachian Culture</h3>
                    <p>True to Dollywood's mission of preserving and celebrating Appalachian culture, the VR experience features original music composed specifically for the ride, incorporating traditional folk instruments and melodies. The virtual journey includes encounters with legendary figures from mountain folklore and showcases the region's stunning biodiversity through photorealistic environments.</p>
                    
                    <h3>What Visitors Can Expect</h3>
                    <p>The experience begins before riders even board the coaster, with a pre-show area featuring interactive exhibits about the making of the VR journey. Once on the ride, guests will embark on a story-driven adventure that perfectly complements the physical sensations of the Wild Eagle's flight pattern. The entire experience lasts approximately 4 minutes and includes multiple story branches, meaning each ride can offer a different adventure.</p>
                `
            },
            {
                id: 2,
                title: "Dollywood's Harvest Festival Breaks Attendance Records with Over 50,000 Daily Visitors",
                author: "Smoky Mountain Entertainment Weekly",
                date: "June 10, 2025",
                excerpt: "The park's annual Harvest Festival has shattered previous attendance records, drawing visitors from across the nation to experience authentic Appalachian autumn traditions, craft demonstrations, and exclusive seasonal attractions.",
                content: `
                    <h3>Record-Breaking Success</h3>
                    <p>Dollywood's Harvest Festival has achieved unprecedented success this season, with daily attendance consistently exceeding 50,000 visitors throughout the event's run. This represents a 35% increase over last year's numbers and establishes new benchmarks for seasonal events at the Tennessee theme park.</p>
                    
                    <h3>Authentic Appalachian Experiences</h3>
                    <p>The festival's success can be attributed to its authentic celebration of Appalachian harvest traditions. Visitors have been captivated by live demonstrations of traditional crafts including blacksmithing, pottery making, and quilting. The festival also features authentic mountain music performances on multiple stages throughout the park, showcasing both established artists and emerging talent from the region.</p>
                    
                    <h3>Culinary Delights</h3>
                    <p>Food has been a major draw, with festival-exclusive offerings including traditional Appalachian dishes prepared using family recipes passed down through generations. The popular "Harvest Kitchen" area features cooking demonstrations where visitors can learn to prepare regional specialties like stack cake, cornbread, and various preserves using traditional methods.</p>
                    
                    <h3>Economic Impact</h3>
                    <p>The festival's success has generated significant economic benefits for the broader Sevier County region. Local hotels report 95% occupancy rates during festival weekends, and area restaurants and shops have seen substantial increases in business. The event has also provided employment opportunities for over 200 local artisans and performers.</p>
                `
            },
            {
                id: 3,
                title: "Dolly Parton Surprises Guests with Impromptu Performance at Dollywood's Chapel",
                author: "Country Music Chronicle",
                date: "June 5, 2025",
                excerpt: "In a heartwarming surprise that left guests in tears of joy, Dolly Parton made an unannounced appearance at the park's chapel, performing several of her classic songs for a small group of visitors celebrating a special anniversary.",
                content: `
                    <h3>An Unforgettable Surprise</h3>
                    <p>What began as a quiet afternoon at Dollywood's chapel turned into a magical moment that guests will treasure forever. Dolly Parton, known for her spontaneous acts of kindness, surprised a couple celebrating their 50th wedding anniversary with an intimate performance that included "I Will Always Love You" and "Coat of Many Colors."</p>
                    
                    <h3>The Golden Anniversary Celebration</h3>
                    <p>Harold and Martha Jenkins from Kentucky had chosen to celebrate their golden anniversary at Dollywood, having been fans of Dolly Parton since their early dating days. Word of their celebration reached park staff, who discreetly contacted Dolly's team. The country music legend, who happened to be visiting the park that day, immediately offered to make their celebration extra special.</p>
                    
                    <h3>A Moment of Pure Magic</h3>
                    <p>The impromptu concert drew a small crowd of about 30 guests who happened to be in the chapel area. Dolly performed acoustically, accompanied only by her guitar, creating an intimate atmosphere that many described as "spiritual" and "life-changing." Several guests captured video of the performance, which has since gone viral on social media.</p>
                    
                    <h3>Continuing a Legacy of Kindness</h3>
                    <p>This surprise performance continues Dolly Parton's long tradition of unexpected acts of generosity at her theme park. Over the years, she has surprised countless guests with impromptu appearances, personal conversations, and memorable photo opportunities. These spontaneous moments have become part of Dollywood's legend and contribute to its reputation as more than just a theme park, but a place where dreams come true.</p>
                `
            },
            {
                id: 4,
                title: "Dollywood Launches Groundbreaking Environmental Conservation Program",
                author: "East Tennessee Environmental Report",
                date: "May 30, 2025",
                excerpt: "The theme park announces an ambitious new initiative to become carbon neutral by 2030, featuring innovative renewable energy systems, wildlife habitat restoration, and educational programs for visitors about Smoky Mountain ecology.",
                content: `
                    <h3>Leading by Example</h3>
                    <p>Dollywood has unveiled an comprehensive environmental conservation program that positions the park as a leader in sustainable tourism. The "Green Mountain Initiative" represents a $50 million investment in renewable energy, habitat restoration, and environmental education programs designed to protect the natural beauty of the Smoky Mountains region.</p>
                    
                    <h3>Renewable Energy Revolution</h3>
                    <p>The centerpiece of the initiative is a state-of-the-art solar array system that will generate 75% of the park's energy needs. The solar panels, designed to blend seamlessly with the park's aesthetic, will be complemented by micro-hydroelectric generators powered by the park's water features. This combination of renewable energy sources is expected to reduce Dollywood's carbon footprint by 80% within three years.</p>
                    
                    <h3>Wildlife Habitat Restoration</h3>
                    <p>Working in partnership with the Great Smoky Mountains National Park Service, Dollywood is establishing wildlife corridors and native plant gardens throughout the property. These areas will serve as sanctuaries for local wildlife while providing educational opportunities for guests to learn about native species and their habitats. The program includes the restoration of 50 acres of native Appalachian forest.</p>
                    
                    <h3>Educational Outreach</h3>
                    <p>The conservation program includes new educational exhibits and interactive experiences that teach visitors about environmental stewardship. The "Smoky Mountain Ecology Center" will feature hands-on exhibits about local ecosystems, climate change impact on mountain environments, and practical conservation tips that guests can implement in their own communities.</p>
                `
            },
            {
                id: 5,
                title: "Dollywood's New 'Southern Hospitality' Hotel Opens to Rave Reviews",
                author: "Hospitality Industry Insider",
                date: "May 20, 2025",
                excerpt: "The park's first on-site luxury resort has opened its doors, featuring authentic Appalachian design, world-class amenities, and exclusive park access that's earning praise from travel critics and guests alike.",
                content: `
                    <h3>A Dream Realized</h3>
                    <p>After years of planning and construction, Dollywood's Southern Hospitality Resort has officially opened, offering guests an unprecedented luxury experience that captures the essence of Appalachian culture and hospitality. The 300-room resort represents a new chapter in Dollywood's evolution as a complete destination experience.</p>
                    
                    <h3>Authentic Design and Craftsmanship</h3>
                    <p>The resort's design pays homage to traditional Appalachian architecture while incorporating modern luxury amenities. Each room features handcrafted furniture made by local artisans, original artwork celebrating mountain culture, and floor-to-ceiling windows offering spectacular views of the Smoky Mountains. The lobby showcases a stunning three-story stone fireplace and features live music performances every evening.</p>
                    
                    <h3>Exclusive Experiences</h3>
                    <p>Resort guests enjoy exclusive benefits including early park access, reserved seating at shows, and private dining experiences featuring menus developed in collaboration with renowned Southern chefs. The hotel's signature restaurant, "Dolly's Table," offers a fine dining interpretation of traditional Appalachian cuisine using locally sourced ingredients.</p>
                    
                    <h3>Critical Acclaim</h3>
                    <p>Travel critics have praised the resort for its authentic atmosphere and attention to detail. The property has already received a four-diamond rating from AAA and has been featured in several national travel publications. Booking rates have exceeded expectations, with the resort maintaining over 90% occupancy since opening.</p>
                `
            }
        ];

        // User management
        let currentUser = null;
        let users = {};
        let comments = {};
        let isAdmin = false;

        // Initialize comments for each article
        articles.forEach(article => {
            comments[article.id] = [];
        });

        // DOM elements
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const adminBtn = document.getElementById('adminBtn');
        const userInfo = document.getElementById('userInfo');
        const articlesList = document.getElementById('articlesList');
        const fullArticleView = document.getElementById('fullArticleView');
        const backToList = document.getElementById('backToList');

        // Event listeners
        loginBtn.addEventListener('click', () => openModal('loginModal'));
        signupBtn.addEventListener('click', () => openModal('signupModal'));
        logoutBtn.addEventListener('click', logout);
        adminBtn.addEventListener('click', () => openModal('adminModal'));
        backToList.addEventListener('click', showArticlesList);

        document.getElementById('loginForm').addEventListener('submit', handleLogin);
        document.getElementById('signupForm').addEventListener('submit', handleSignup);
        document.getElementById('adminForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const editingId = this.dataset.editingId;
            if (editingId) {
                // Update existing article
                const article = articles.find(a => a.id == editingId);
                if (article) {
                    article.title = document.getElementById('articleTitle').value;
                    article.author = document.getElementById('articleAuthor').value;
                    article.excerpt = document.getElementById('articleExcerpt').value;
                    article.content = document.getElementById('articleContent').value;
                    
                    renderArticles();
                    closeModal('adminModal');
                    this.reset();
                    delete this.dataset.editingId;
                    
                    // Reset modal
                    document.querySelector('#adminModal h2').textContent = 'Create New Article';
                    document.querySelector('#adminForm button[type="submit"]').textContent = 'Publish Article';
                    
                    alert('Article updated successfully!');
                }
            } else {
                // Create new article
                handleNewArticle(e);
            }
        });

        // Modal functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('active');
            
            // Prevent event bubbling that could close the modal
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal(modalId);
                }
            });
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Authentication functions
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value.trim();

            console.log('Login attempt:', email); // Debug log

            if (users[email] && users[email].password === password) {
                currentUser = users[email];
                isAdmin = users[email].isAdmin || false;
                console.log('Login successful, isAdmin:', isAdmin); // Debug log
                updateAuthUI();
                closeModal('loginModal');
                document.getElementById('loginForm').reset();
                
                if (isAdmin) {
                    alert('Welcome Admin! You can now create new articles using the "+ New Article" button.');
                }
            } else {
                alert('Invalid email or password. Try admin@dollywood.com / admin123 for admin access.');
            }
        }

        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;

            if (users[email]) {
                alert('User already exists');
                return;
            }

            users[email] = { name, email, password };
            currentUser = users[email];
            updateAuthUI();
            closeModal('signupModal');
            document.getElementById('signupForm').reset();
        }

        function logout() {
            currentUser = null;
            isAdmin = false;
            updateAuthUI();
        }

        function updateAuthUI() {
            console.log('Updating auth UI, currentUser:', currentUser, 'isAdmin:', isAdmin); // Debug log
            
            if (currentUser) {
                loginBtn.classList.add('hidden');
                signupBtn.classList.add('hidden');
                logoutBtn.classList.remove('hidden');
                userInfo.classList.remove('hidden');
                userInfo.textContent = `Welcome, ${currentUser.name}!${isAdmin ? ' (Admin)' : ''}`;
                
                // Show admin button if user is admin
                if (isAdmin) {
                    adminBtn.classList.remove('hidden');
                    console.log('Admin button should be visible'); // Debug log
                } else {
                    adminBtn.classList.add('hidden');
                }
            } else {
                loginBtn.classList.remove('hidden');
                signupBtn.classList.remove('hidden');
                logoutBtn.classList.add('hidden');
                userInfo.classList.add('hidden');
                adminBtn.classList.add('hidden');
            }
        }

        // Article functions
        function renderArticles() {
            articlesList.innerHTML = articles.map(article => `
                <div class="article-card" onclick="showFullArticle(${article.id})">
                    <div class="article-header">
                        <h2 class="article-title">${article.title}</h2>
                        <div class="article-meta">
                            <span class="author-badge">${article.author}</span>
                            <span>${article.date}</span>
                        </div>
                        ${isAdmin ? `
                            <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                                <button onclick="event.stopPropagation(); editArticle(${article.id})" class="btn btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.8rem;">Edit</button>
                                <button onclick="event.stopPropagation(); deleteArticle(${article.id})" class="btn btn-primary" style="padding: 0.5rem 1rem; font-size: 0.8rem;">Delete</button>
                            </div>
                        ` : ''}
                    </div>
                    <div class="article-content">
                        <p class="article-excerpt">${article.excerpt}</p>
                        <a href="#" class="read-more">Read Full Article →</a>
                    </div>
                </div>
            `).join('');
        }

        function showFullArticle(articleId) {
            const article = articles.find(a => a.id === articleId);
            if (!article) return;

            document.getElementById('fullArticleContent').innerHTML = `
                <div class="article-header">
                    <h1 class="article-title">${article.title}</h1>
                    <div class="article-meta">
                        <span class="author-badge">${article.author}</span>
                        <span>${article.date}</span>
                    </div>
                    ${isAdmin ? `
                        <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                            <button onclick="editArticle(${article.id})" class="btn btn-secondary">Edit Article</button>
                            <button onclick="deleteArticle(${article.id})" class="btn btn-primary">Delete Article</button>
                        </div>
                    ` : ''}
                </div>
                <div class="article-body">
                    ${article.content}
                </div>
                <div class="comments-section">
                    <div class="comments-header">
                        <h3>Comments (${comments[articleId].length})</h3>
                    </div>
                    ${currentUser ? `
                        <div class="comment-form">
                            <textarea id="commentText" placeholder="Share your thoughts about this article..."></textarea>
                            <button onclick="addComment(${articleId})" class="btn btn-primary" style="margin-top: 1rem;">Post Comment</button>
                        </div>
                    ` : `
                        <div class="login-required">
                            <p>Please <a href="#" onclick="openModal('loginModal')" style="color: #d4af37; text-decoration: none;">login</a> or <a href="#" onclick="openModal('signupModal')" style="color: #d4af37; text-decoration: none;">sign up</a> to leave a comment.</p>
                        </div>
                    `}
                    <div class="comments-list">
                        ${renderComments(articleId)}
                    </div>
                </div>
            `;

            articlesList.style.display = 'none';
            fullArticleView.classList.add('active');
        }

        function renderComments(articleId) {
            if (comments[articleId].length === 0) {
                return '<p style="text-align: center; color: #666; padding: 2rem;">No comments yet. Be the first to share your thoughts!</p>';
            }

            return comments[articleId].map(comment => `
                <div class="comment">
                    <div class="comment-author">${comment.author}</div>
                    <div class="comment-date">${comment.date}</div>
                    <div class="comment-content">${comment.content}</div>
                </div>
            `).join('');
        }

        function addComment(articleId) {
            if (!currentUser) {
                alert('Please login to comment');
                return;
            }

            const commentText = document.getElementById('commentText').value.trim();
            if (!commentText) {
                alert('Please enter a comment');
                return;
            }

            const comment = {
                author: currentUser.name,
                content: commentText,
                date: new Date().toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };

            comments[articleId].push(comment);
            showFullArticle(articleId); // Refresh the article view
        }

        function showArticlesList() {
            fullArticleView.classList.remove('active');
            articlesList.style.display = 'grid';
        }

        // Admin functions
        function handleNewArticle(e) {
            e.preventDefault();
            
            if (!isAdmin) {
                alert('Admin access required');
                return;
            }

            const title = document.getElementById('articleTitle').value;
            const author = document.getElementById('articleAuthor').value;
            const excerpt = document.getElementById('articleExcerpt').value;
            const content = document.getElementById('articleContent').value;

            // Create new article with unique ID
            const newArticle = {
                id: Date.now(), // Simple unique ID
                title: title,
                author: author,
                date: new Date().toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                }),
                excerpt: excerpt,
                content: content
            };

            // Add to beginning of articles array (newest first)
            articles.unshift(newArticle);
            
            // Initialize comments for new article
            comments[newArticle.id] = [];

            // Refresh the articles display
            renderArticles();
            
            // Close modal and reset form
            closeModal('adminModal');
            document.getElementById('adminForm').reset();
            
            alert('Article published successfully!');
        }

        function editArticle(articleId) {
            if (!isAdmin) {
                alert('Admin access required');
                return;
            }

            const article = articles.find(a => a.id === articleId);
            if (!article) return;

            // Pre-fill the form with existing article data
            document.getElementById('articleTitle').value = article.title;
            document.getElementById('articleAuthor').value = article.author;
            document.getElementById('articleExcerpt').value = article.excerpt;
            document.getElementById('articleContent').value = article.content;

            // Store the article ID for updating
            document.getElementById('adminForm').dataset.editingId = articleId;
            
            // Change button text
            const submitBtn = document.querySelector('#adminForm button[type="submit"]');
            submitBtn.textContent = 'Update Article';
            
            // Change modal title
            document.querySelector('#adminModal h2').textContent = 'Edit Article';

            openModal('adminModal');
        }

        function deleteArticle(articleId) {
            if (!isAdmin) {
                alert('Admin access required');
                return;
            }

            if (confirm('Are you sure you want to delete this article? This action cannot be undone.')) {
                // Remove from articles array
                const index = articles.findIndex(a => a.id === articleId);
                if (index > -1) {
                    articles.splice(index, 1);
                }
                
                // Remove comments
                delete comments[articleId];
                
                // Refresh display
                renderArticles();
                
                // If we're viewing this article, go back to list
                if (document.getElementById('fullArticleView').classList.contains('active')) {
                    showArticlesList();
                }
                
                alert('Article deleted successfully!');
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, initializing...'); // Debug log
            
            renderArticles();
            updateAuthUI();
            
            // Add some sample users for demo purposes
            users['demo@dollywood.com'] = {
                name: 'Demo User',
                email: 'demo@dollywood.com',
                password: 'demo123',
                isAdmin: false
            };
            
            // Add admin user
            users['admin@dollywood.com'] = {
                name: 'Dollywood Admin',
                email: 'admin@dollywood.com',
                password: 'admin123',
                isAdmin: true
            };
            
            console.log('Users created:', Object.keys(users)); // Debug log
            
            // Add some sample comments
            comments[1].push({
                author: 'Sarah Johnson',
                content: 'This sounds absolutely incredible! I can\'t wait to experience the VR coaster. Dollywood always finds new ways to innovate while staying true to its roots.',
                date: 'June 15, 2025 at 3:45 PM'
            });
            
            comments[1].push({
                author: 'Mike Thompson',
                content: 'As a technology enthusiast and Dollywood regular, I\'m thrilled about this announcement. The blend of cutting-edge VR with Appalachian culture is genius!',
                date: 'June 15, 2025 at 4:12 PM'
            });
            
            comments[2].push({
                author: 'Emily Carter',
                content: 'We attended the Harvest Festival last weekend and it was magical! The craft demonstrations were fascinating and the food was incredible.',
                date: 'June 11, 2025 at 10:30 AM'
            });
            
            comments[3].push({
                author: 'Robert Williams',
                content: 'What a beautiful story! This is exactly why Dolly Parton is such a treasure. Her genuine kindness and spontaneous generosity never cease to amaze me.',
                date: 'June 6, 2025 at 8:15 AM'
            });
            
            comments[4].push({
                author: 'Jennifer Davis',
                content: 'It\'s wonderful to see Dollywood taking such a proactive approach to environmental conservation. This sets a great example for other theme parks.',
                date: 'May 31, 2025 at 2:20 PM'
            });
            
            comments[5].push({
                author: 'David Miller',
                content: 'Just checked out of the Southern Hospitality Resort and it exceeded all expectations! The attention to detail and authentic mountain hospitality was outstanding.',
                date: 'May 25, 2025 at 11:45 AM'
            });
        });

        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Prevent modal from closing when clicking inside modal content
        document.addEventListener('click', function(e) {
            if (e.target.closest('.modal-content')) {
                e.stopPropagation();
            }
        });

        // Make functions globally accessible
        window.showFullArticle = showFullArticle;
        window.addComment = addComment;
        window.openModal = openModal;
        window.closeModal = closeModal;
        window.handleNewArticle = handleNewArticle;
        window.editArticle = editArticle;
        window.deleteArticle = deleteArticle;
    </script>
</body>
</html>